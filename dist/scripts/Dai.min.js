!function(n,g){var F,Class,doc=document,b=doc.body,toString={}.toString,Ap=Array.prototype,nnn="J",nnnn="_$",fscp="";try{fscp=doc.currentScript.src}catch(e){}!function(a){var b,c=function(b,c){g[b.replace(/./,function(a){return a.toLowerCase()})]=function(a){var d=a[0]+b;return g[d]||!a.length&&c||(a.shift(),arguments.callee(a))}(a.concat())},d=1e3/60;c("RequestAnimationFrame",function(a){var c,e;return setTimeout(function(){a&&a(c=+new Date),e=+new Date,b=max(0,d-(e-c))},d)}),c("CancelAnimationFrame",function(a){return clearTimeout(a)})}(["webkit","moz"]),Ap.forEach=Ap.forEach||function(a,b){var c=0;for(c=0,len=this.length;c<len&&0!=a.call(b||g,this[c],c);++c);},String.prototype.trim="".trim||function(){return this.replace(/^[\s]*|[\s]*$/g,"")},Object.keys=Object.keys||function(a){var b,c=[];for(b in a)a.hasOwnProperty(b)&&c.push(b);return c},Object.create=Object.create||function(a){var b=function(){};return b.prototype=a,new b},Array.from=Array.from||function(){return function(a){for(var b,c=a.length,d=arguments[1],e=arguments[2],f=0,g=a,h=new Array(c);c>f;)b=g[f],h[f]=d?d.call(e||this,b,f):b,++f;return h.length=c,h}}(),(!Object.getOwnPropertyNames&&"cos,sin,tan,atan,atan2,acos,asin,ceil,floor,round,sqrt,log,random,max,min,abs,pow,PI,E".split(",")||Object.getOwnPropertyNames(Math)).forEach(function(a){a=a.trim(),window[a]=Math[a]});var extend=function(){var a=function(b,c){return c=c||{},!b||"object"==typeof b&&b.nodeType?c=b:(Object.keys(b).forEach(function(d){"object"==typeof b[d]?b[d].nodeType?c[d]=b[d]:a(b[d],c[d]=F.isArray(b[d])?[]:{}):c[d]=b[d]}),c)};return function(b,c){return c?([].slice.call(arguments,1).forEach(function(c){var d=a(c);Object.keys(d).forEach(function(a){b[a]=d[a]})}),b):console.warn("需要扩展の对象并不存在啊...")}}();extend(Ap,function(){var a={remove:function(a){var b,c;for(c=this.length;c--;)if(b=this[c],b==a)return void this.splice(c,1)},some:function(a,b){var c=0;for(c=0,len=this.length;c<len;c++)if(a.call(b||window,this[c],c))return!0;return!1},filter:function(a,b){var c,d=[],e=0;for(e=0,len=this.length;e<len;e++)c=a.call(b||window,this[e],e),c&&d.push(this[e]);return d},map:function(a,b){var c=[],d=0;for(d=0,len=this.length;d<len;d++)c.push(a.call(b||window,this[d],d));return c},reduce:function(a,b){var c,d;return void 0!=b?(c=b,d=1):c=this[0],Array.from({length:this.length},function(b,e){this.hasOwnProperty(e)&&(d?c=a(c,this[e],e,this):d=1)}.bind(this)),c},recursiveAr:function(a){var a=a||[];return this.forEach(function(b){b instanceof Array?b.recursiveAr(a):a.push(b)}),a}};return Object.keys(a).forEach(function(b){a[b]=Ap[b]||a[b]}),a}()),extend(Function.prototype,{after:function(a){var b=this;return function(){var c=b.apply(b,arguments);return void 0!=c?a.apply(this,arguments):c}},inherit:function(a){return this.prototype=Object.create(a.prototype),this.prototype.constructor=this,this.prototype._super=a.prototype,this}}),Class=function(){var a={};return a.extend=function(b,c){var d=function(){var a=this,b=arguments,c=[];!function d(a){var b=a._super;b&&(c.unshift(b),d(b))}(this),c.forEach(function(c){Object.keys(c.constructor).filter(function(a){return"extend"!=a}).forEach(function(b){a.constructor[b]=c.constructor[b]}),c.init.apply(a,b)}),this.init.apply(this,arguments)};return b=b||{},"init"in b||(b.init=function(){}),c&&Object.keys(c).forEach(function(a){d[a]=c[a]}),d.extend=arguments.callee,this!=a?(d.prototype=Object.create(this.prototype),d.prototype.constructor=d,d.prototype._super=this.prototype,Object.keys(b).forEach(function(a){d.prototype[a]&&"init"!=a&&"function"==typeof d.prototype[a]?d.prototype[a]=function(){var c=arguments,d=this;return this._base_=function(){return d._super[a].apply(this,c)},b[a].apply(this,arguments)}:d.prototype[a]=b[a]}),d):(Object.keys(b).forEach(function(a){d.prototype[a]=b[a]}),d.prototype.constructor=d,d)},a}(),F=function(a,b){return new F.p.init(a,b)},F.prototype=F.p={constructor:F,init:function(a,b){return!a||F.isString(a)&&""===a.trim()?(this.length=0,0):(F.isFunction(a)?this.ready(a):F.isString(a)?/<[a-z]+.*?>/.test(a)||this.__((b||doc).querySelectorAll(a)):F.isObject(a)&&(a.nodeType?(this[0]=a,this.length=1):this.__(a)),this)},ready:function(fn){var domFn,depFn,sysFn,apiFn,rgInclude,command;return domFn=function(){return new _$.Promise(function(a){return/complete|interactive/.test(doc.readyState)?a():void(onload=function(){a()})})},depFn=function(){var b="http://www.daidaidai-web.com/baseRes/projs/projs.php";b="http://localhost/gametest2/projs.php";var c=function(a,b){var d,b;if(a=a.trim(),(d=/^([^(),]+)/.exec(a))&&(b={type:"xxxx",name:d[0]},a=a.slice(d[0].length)),!/^\(/.test(a))return{expstr:a,expo:b};for(b={args:[],name:d&&d[0]||void 0},a=a.slice(1);")"!=a[0];){var e=c(a);if(a=e.expstr,b.args.push(e),","==a[0])a=a.slice(1);else if(")"!=a[0])throw new Error("...)")}return c(a.slice(1),b)},d=_$.Event.extend({i:0,dep_ar:[],loadScp:function(a){++this.i,setTimeout(function(){a(),0==--this.i&&this.trigger("complete")}.bind(this))}}),e=function(b,c){b.args?b.name?f.loadScp(function(){f.dep_ar.push(b.name),b.args.forEach(function(a){e(a.expo,b)})}):b.args.forEach(function(a){e(a.expo,b)}):c?f.loadScp(function(){var a=c.name&&c.name||"";a.length?f.dep_ar.push([a,b.name].join("/")):f.dep_ar.push(b.name)}):f.loadScp(function(){f.dep_ar.push(a.name)})},f=new d;return new _$.Promise(function(a){var d,g;return(g=_$.getUrlParam("deps",fscp))?(d=c(g),e(d.expo),void f.on("complete",function(){_$.deps=this.dep_ar,_$.get(b,{dep_ar:JSON.stringify(this.dep_ar)},function(b){var c=_$.config.depLoader.shift().trim();_$.assert(c in _$.fetchLoader,"......不存在此loader呦"),c=_$.fetchLoader[c],c.apply(c,[function(){a()},b].concat(_$.config.depLoader))})})):a()})},sysFn=function(){var a=navigator.userAgent;return new _$.Promise(function(b){_$.is_android=/Android/i.test(a),_$.is_ios=/iPhone|iPad|iPod|iOS/i.test(a),_$.is_pc=!(_$.is_android||_$.is_ios),_$.is_wx=/MicroMessenger/i.test(a),b()})},apiFn=function(){var ars=[];return _$.is_wx&&_$.config.wxapi&&ars.push({src:"http://res.wx.qq.com/open/js/jweixin-1.0.0.js",fnn:function(fn){_$.jsonp("http://mu.xy.com/wxtest/parseWx.php",{url:location.href},function(wx_str,url){try{eval("("+wx_str+")"),fn()}catch(e){alert(e)}})}}),new _$.Promise(function(a){new _$.Promise.all(ars.map(function(a){return new _$.Promise(function(b){_$.getScript([a.src]).then(function(){a.fnn(function(a){b(a)})})})})).then(function(){a()})})},rgInclude=function(fn){(""+fn).replace(/include\(\s*(\[.+?\])\s*\)/g,function(a,b){b&&F.include(eval("("+b+")"))})},command=F.Command(),command.add({execute:fn}),rgInclude(fn),_$.Promise.all(domFn(),depFn(),sysFn(),apiFn()).then(function(){command.execute()}),this.constructor.prototype.ready=function(a){return command.add({execute:a}),rgInclude(a),F.say("喵！",3)},F.say("喵",2)},__:function(a){return F.toArray(a).forEach(function(b,c){this[c]=a[c]},this),this.length=a.length,this},__array:function(){var a=[];return this.each(function(b){a.push(b)}),a},each:function(a,b){for(var c=0,d=this.length;d>c&&0!=a.call(b||g,this[c],c);c++);return this}},F.p.init.prototype=F.p,g[n]=g[nnn]=g[nnnn]=F,F["package"]=function(a){_$.extend(F,a&&a.call(F,F)||{})},F.extend=extend,F.extend(_$.p,{text:function(a){return a?this.each(function(b){b.textContent=a}):this[0].textContent},html:function(a){return a?this.each(function(b){b.innerHTML=a}):this[0].innerHTML},append:function(a){return"object"==typeof a&&a.nodeType?this.each(function(b){b.appendChild(a)}):F.isString(a)?this.each(function(b){b.innerHTML+=a}):void 0},index:function(){var a=(this[0].paretNode,this[0]),b=0;return this.each(function(c){return c==a?(b=0,!1):void 0}),b},parent:function(){return this[0].parentNode},remove:function(){var a=this.parent();return this.each(function(b){a.removeChild(b)})},find:function(a){var b=[];return this.each(function(c){b=b.concat(_$.toArray(c.querySelectorAll(a)))}),this.constructor(b)},eq:function(a){return this.constructor(this[a])},css:function(a,b){return b?this.each(function(c){_$.css(c,a,b)}):_$.isObject(a)?this.each(function(b){_$.css(b,a)}):_$.css(this[0],a)},show:function(){return this.each(function(a){_$.css(a,"display","block")})},hide:function(){return this.each(function(a){_$.css(a,"display","none")})},on:function(a,b){return this.each(function(c){_$.on(c,a,b)})}}),F["package"](function(a){["Function","String","Number","Date","RegExp","Error","Array"].forEach(function(b){a["is"+b]=function(a){return toString.call(a)==="[object "+b+"]"}}),a.AuthorSay=function(){return function(){console.log([_$.dottedLine(),"by   戴戴戴(2540546236@qq.com) ","date "+_$.toArray(arguments).join("-"),_$.dottedLine()].reverse().join("\r\n"))}}(),a.dottedLine=function(a){return new Array(a||50).join("-")},a.toArray=function(a){return a?[].slice.call(a):[]},a.rdAr=function(a){return a.sort(function(){return.5-random()})},a.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},a.say=function(a,b){return new Array(b||6).join(a)},a.err=function(a,b){throw new Error(a+" "+new Array(b||6).join("喵~"))},a.timeStr=function(a){return(a||"Dai")+ +new Date},a.assert=function(b,c){if(!b)throw new a.assert.prototype.init(c)},a.assert.prototype=a.assert.p=Object.create(Error.prototype),a.assert.p.init=function(a){return this.message=a,this},a.assert.p.init.prototype=a.assert.p}),F["package"](function(a){a.MxEvent={evs:{},on:function(a,b,c){return a=a.trim(),c&&"once"==c.trim()?(this.evs[a]=[b],this):this.evs[a]?(this.evs[a].push(b),this):(this.evs[a]=[b],this)},trigger:function(a){var b=this,c=arguments,d=this.evs[a=a.trim()];return d&&d.forEach(function(a){a.apply(b,[].slice.call(c,1))}),this},off:function(a){return delete this.evs[a.trim()],this}},a.Event=Class.extend({init:function(){this.evs={}},on:function(a,b,c){return a=a.trim(),c&&"once"==c.trim()?(this.evs[a]=[b],this):this.evs[a]?(this.evs[a].push(b),this):(this.evs[a]=[b],this)},trigger:function(a){var b=this,c=arguments,d=this.evs[a=a.trim()];return d&&d.forEach(function(a){a.apply(b,[].slice.call(c,1))}),this},off:function(a){return delete this.evs[a.trim()],this}}),a.exEvent={ex_map:Object.create(null),ex:function(a,b){var c=a.trim().split(/,/);c.forEach(function(a){var c;return a=a.trim(),(c=this.ex_map[a])||(c={attr:0,cb:0},this.ex_map[a]=c),_$.isFunction(b)?c.cb=b:void(c.attr=b)},this)},exLoop:function(a){Object.keys(this.ex_map).forEach(function(a){var b=this.ex_map[a];b.cb&&b.attr&&b.cb.call(this)},this)}},a.once=function(){var a=Object.create(null),b=function(b,c){b in a||!c||(a[b]=c,c())};return b["delete"]=function(b){delete a[b]},b}(),a.bk=function(b,c){var d=new _$.Event;a.bk=function(a,b){d.on(a,b)},a.bk.resolve=function(a,b){d.trigger(a,b)},d.on(b,c)},a.Accept=_$.Event.extend({init:function(a){return this.o=a,this.ss,setTimeout(function(){this.next()}.bind(this)),this},next:function(){return this.o.length?(this.toLoad(),this):void this.trigger("done")},toLoad:function(){this.ss=this.o[0],this.o.shift(),this.trigger("accept",this.ss)}}),a.Command=function(){return{ar:[],ID:"cmd"+random(),clear:function(){this.ar=[]},add:function(){return this.ar.push.apply(this.ar,arguments),this},execute:function(){this.ar.forEach(function(a){a.execute&&a.execute()})}}},a.SomeFn=_$.Event.extend({init:function(){this.ar=[],this.data_ar=[],this.state=0},add:function(a,b){this.ar.push([a,b||""])},test:function(){var a,b,c,d,e=this.ar.length;for(this.data_ar.length=0,this.state=0,a=0;e>a;a++){if(b=this.ar[a][0],c=this.ar[a][1],!(d=b()))return this.trigger("fail",c);this.data_ar.push(d)}this.state=1,this.trigger("success",this.data_ar)}}),a.Promise=function(){var a=Class.extend({init:function(a){var b=this;this.pme,this.data,a&&a.call(this,function(){var a=arguments;setTimeout(function(){b.resolve.apply(b,a)})})},resolve:function(){var b,c=arguments,d=this;!this.pme||this.pme&&!this.pme.fn||(b=this.pme.fn.apply(this.pme,c),b instanceof a?b.then(function(){d.pme.resolve.apply(d.pme,arguments)}):this.pme.resolve.apply(this.pme,c))},then:function(b){var c=new a;return c.fn=b,this.pme=c}},{all:function(){var b=_$.toArray(arguments).recursiveAr(),c=b.length;return new a(function(a){var d=[],e=0;return b.length?b.some(function(a){return a instanceof _$.Promise})?void b.forEach(function(b){b.then(function(){d=d.concat(_$.toArray(arguments)),++e==c&&a.apply(window,d)})}):console.warn("有几个并不是promise对象呦~"):a()})}});return a}()}),F["package"](function(a){var b=Object.create(null);b.tip=function(){},b.touchdown=function(){var a=[],b=function(b,c){a.push(o={el:b,cb:c,st:0}),_$(b).on("touchstart",function(){o.st=+new Date}).on("touchend",function(){o.st=void 0}),_$.once("touchdown",function(){_$.Timer.execute(),_$.Timer.loop(function(){a.forEach(function(a){a.st&&a.cb&&a.cb()})})})};return b}(),a.on=function(c,d,e){if(_$.is_pc){var f={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"};a.on=function(a,c,d){return c=c.trim(),c in b?b[c](a,d):void a.addEventListener(c in f?f[c]:c,function(b){d.call(a,{ev:b,mouse_x:b.pageX,mouse_y:b.pageY})})}}else a.on=function(a,c,d){return c in b?b[c](a,d):void a.addEventListener(c.trim(),function(b){d.call(a,{ev:b,mouse_x:b.changedTouches[0].pageX,mouse_y:b.changedTouches[0].pageY})})};return a.on(c,d,e)},a.css=function(b,c,d){if(d)b.style[c]=d;else{if(!a.isObject(c))return getComputedStyle(b)[c];Object.keys(c).forEach(function(d){a.css(b,d,c[d])})}}}),_$["package"](function(a){_$.Audio=function(a){var b=Boolean(a.auto),c=new Audio,d=a.src||"";return c.src=_$.config.base+d+(_$.is_ios?".aac":".mp3"),c.loop=Boolean(a.loop),b&&c.play(),c}}),_$["package"](function(a){var b=[],c=function(a){_$.extend(c,a||{}),c.depLoader&&_$.isString(c.depLoader)&&(c.depLoader=c.depLoader.split(/\|/))};return c({base:"",time_stamp:0,depLoader:"globalEval|1",wxapi:1}),{deps:b,config:c}}),F["package"](function(a){a.getImage=function(a,b){return new _$.Promise(function(c){var d=[],e=0;new _$.Accept(a).on("accept",function(a){var c=doc.createElement("img"),f=this;c.onload=function(){f.next(),b&&b(c,e++),d.push(this),this.onload=null},Object.keys(a).forEach(function(b){c.setAttribute(b,"src"==b?_$.config.base+a[b]:a[b])})}).on("done",function(){c(d)})})},a.getScript=function(a,b){return new _$.Promise(function(c){var d=[];new _$.Accept(a).on("accept",function(a){var c=document.createElement("script");c.src=_$.config.base+a,c.onload=function(){b&&b.call(c,c),document.body.removeChild(c),d.push(c),this.next()}.bind(this),document.body.appendChild(c)}).on("done",function(){c.apply(window,d)})})}}),_$["package"](function(F){var qyStr=function(a){var b=[];return a=a||{},b=Object.keys(a).map(function(b){return b+"="+encodeURIComponent(a[b])}),b&&b.join("&")},gfn=function(a,b){var c;return a=a||"cb",c=F.timeStr(),g[c]=function(a){b&&b(a),g[c]=null},a+"="+c};F.urlParemJson=function(a){a=decodeURIComponent(a||location.href);for(var b,c=/([^=?&]+)?=([^=&]+)/g,d=Object.create(null);b=c.exec(a);)d[b[1]]=b[2];return d},F.getUrlParam=function(a,b){b=decodeURIComponent(b||location.href);var c=new RegExp(a+"=([^&=]+)"),d=b.match(c);return d?d[1]:void 0},F.fetchLoader={parse:function(fn,res){try{eval(res)}catch(e){console.log(e)}fn&&fn()},globalEval:function(a,b,c){var d=doc.createElement("script");d.appendChild(doc.createTextNode(b)),doc.body.appendChild(d),1*c&&doc.body.removeChild(d),a&&a()}},F.jsonp=function(a,c,d){var e;a&&(e=doc.createElement("script"),e.onload=function(){e.onload=null,b.removeChild(this)},b.appendChild(e),e.src=a+"?"+gfn("cb",d)+"&"+qyStr(c))},F.get=function(a,b,c){var d;return a?(b=b||"",a=a.split(/,/),a[1]&&"domin"==a[1].trim()?void iframe({url:a[0],method:"get",data:b,success:c}):(d=new XMLHttpRequest,d.onreadystatechange=function(){4==d.readyState&&200==d.status&&c&&c.call(d,d.responseText)},d.open("GET",a[0]+"?"+qyStr(b)),d.send(null),d)):void(c&&c())},F.post=function(a,b,c){var d;return a?(b=b||"",a=a.split(/,/),a[1]&&"domin"==a[1].trim()?void iframe({url:a[0],method:"post",data:b,success:c}):(d=new XMLHttpRequest,d.onreadystatechange=function(){4==d.readyState&&200==d.status&&c&&c.call(d,d.responseText)},d.open("POST",a[0]),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),d.send(qyStr(b)),d)):void(c&&c())},F.iframe=function(){var a=function(a,b){var c=doc.createElement("input");return c.name=a,c.value=b,c};return function(c){var d,e,f,g,h;return c=c||{},c.url?(h=gfn("cb",c.success),d=c.type&&c.type.trim()||"get",g=doc.createElement("iframe"),"get"==d?(g.onload=function(){this.onload=null,b.removeChild(this)},g.style.display="none",g.src=c.url+"?"+h+"&"+qyStr(c.data),b.appendChild(g),e):"post"==d?(f=doc.createElement("form"),h=h.split(/=/),c.data[h[0]]=h[1],Object.keys(c.data).forEach(function(b){f.appendChild(a(b,c.data[b]))}),g.onload=function(){},g.name=F.timeStr(),g.style.display=f.style.display="none",f.target=g.name,f.method="post",f.action=c.url,b.appendChild(g),b.appendChild(f),f.submit(),setTimeout(function(){b.removeChild(f),b.removeChild(g)},2e3),e):void 0):void 0}}()}),_$["package"](function(a){a.binarySearch=function(a,b){var c=0,d=a.length,e=Object.keys(b)[0];return _$.binarySearch.info&&console.time("二分耗时"),new _$.Promise(function(f){var g=function(c,d){if(c>d)return console.warn("没有搜索到呦~");var h=.5*(c+d)>>0,i=a[h];return void 0==i[e]?console.warn("不存在的键值呦~"):(_$.binarySearch.info&&console.log(c,h,d),b[e]<i[e]?g(c,--h):b[e]>i[e]?g(++h,d):(_$.binarySearch.info&&console.timeEnd("二分耗时"),f(a[h])))};g(c,d)})},a.insertSort=function(){},a.Shake=function(){return function(a,b){var c=Object.create({x:0,y:0,z:0,bx:0,by:0,bz:0,dx:0,dy:0,dz:0,fn:function(d){var e=d.accelerationIncludingGravity,f=e.x,g=e.y,h=e.z;c.bx||(c.bx=f),c.by||(c.by=g),c.bz||(c.bz=h);var i=f-c.bx,j=g-c.by,k=h-c.dz,l=new _$.Vec(i,j,k).length();l>=a.vlen&&b&&b({dx:i,dy:j,dz:k}),c.bx=f,c.by=g,c.bz=h}});addEventListener("devicemotion",c.fn)}}(),_$.gesture=function(a){var b=a.type&&a.type.split(/,/)||[],c={scale:{execute:function(a,b){if(a&&b){var c=new _$.Vec(a.x-b.x,a.y-b.y).length();this.blen||(this.blen=c),this.scale=c/this.blen*this.bs,d.trigger("scale",{scale:this.scale})}},resolve:function(){this.blen=0,this.bs=this.scale},scale:1,blen:0,bs:1},rotate:{execute:function(a,b){if(a&&b){var c=new _$.Vec(b.x-a.x,b.y-a.y).normal();this.bvec||(this.bvec=c);var e=acos(c.dot(this.bvec)),f=c.cross(this.bvec);f>0&&(e*=-1),this.rotation=this.br+e,d.trigger("rotate",{rotate:this.rotation})}},resolve:function(){this.bvec=0,this.br=this.rotation},rotation:0,br:0}},d={execute:function(a,d){b.forEach(function(b){c[b.trim()].execute(a,d)})},resolve:function(){b.forEach(function(a){c[a.trim()].resolve()})}};return _$.extend(d,_$.MxEvent),d}}),_$["package"](function(){var a=function(){var a,b=!1,c=!1,d=new _$.Event,e=Class.extend({init:function(a){return _$.extend(this,a||{}),this.bdur=this.dur,this.update(this.dur||1e3),this},update:function(a){this.dur=a||1e3,this.st=0},repeatUpdate:function(){this.dur=this.bdur,this.st=0},execute:function(a){return new _$.Promise(function(b){this.dur&&(this.st||(this.st=a),a-this.st>this.dur&&(this.dur=0,b(a)))}.bind(this))}}),f=_$.Event.extend({init:function(a){_$.extend(this,a||{}),this.delay_s=new _$.Timer.Delay,this.s=this.ms/1e3},execute:function(a){return this},eFn:function(a){this.on("eFn",a)},sFn:function(a,b){this.delay_s.execute(a).then(function(){return 0==--this.s?(b(this.s),void this.trigger("eFn",this.s)):(b(this.s),void this.delay_s.update(1e3))}.bind(this))}});return Object.defineProperties({execute:function(){return this.run_(),c?void 0:(c=!0,function e(c){a=requestAnimationFrame(e),c&&b&&d.trigger("Timer/loop",c)}(),this)},run_:function(){b=!0},stop_:function(){b=!1},loop:function(a){d.on("Timer/loop",a)},cancel:function(){this.stop_(),c=!1,cancelAnimationFrame(a)},Delay:e,Clock:f},{is_execute:{get:function(){return c}}})}(),b={linear:function(a){return a},easeOut:function(a){return sin(a*PI*.5)},easeIn:function(a){return 1-cos(a*PI*.5)},easeInOut:function(a){return a-sin(2*a*PI)/(2*PI)},elastic:function(a,b){return 1-cos((b||2)*PI*a)*(1-a)}},c=_$.Event.extend({init:function(a){return a=a||{},_$.extend(this,a),this.par=a,this.bef=a.bef,this.aft=a.aft,this.anmss=a.anmss||"ease",this.anmss=this.anmss.trim(),this.ok=!1,this.move_ok=!1,this.ID,this.dt=a.dt||.1,this.constructor.addAnm(this),this},set:function(a){_$.extend(this,a||{}),this.constructor.run=!0,this.move_ok=!1}},{cache_o:{len:0},run:!1,remove:function(a){delete this.cache_o[a.ID]},addAnm:function(a){a.ID="anm_"+this.cache_o.len++,this.cache_o[a.ID]=a,"ease"==a.anmss,"elastic"==a.anmss&&(a.vv_ar=a.bef.map(function(){return 0}),a.friction=a.par.friction||.8)},cancel:function(){that.run=!1},reqAnm:function(){var a=this;return this.run=!0,_$.Timer.is_excuted||_$.Timer.execute(),new _$.Promise(function(b){setTimeout(function(){a.anmRun(function(){b("结束这轮！！")})})})},easeFn:function(a,b){a.bef=a.bef.map(function(c,d){return abs(c-a.aft[d])<.01?c=a.aft[d]:(c+=(a.aft[d]-c)*a.dt,b()),c})},elasticFn:function(a,b){a.bef=a.bef.map(function(c,d){return abs(c-a.aft[d])<.01?c=a.aft[d]:(a.vv_ar[d]+=(a.aft[d]-c)*a.dt,c+=a.vv_ar[d]*=a.friction,b()),c})},anmRun:function(a){var b=this;_$.Timer.loop(function(c){if(b.run){var d=!0;Object.keys(b.cache_o).forEach(function(a){var c;if("len"!=a&&(c=b.cache_o[a],c.bef&&c.aft&&!c.move_ok)){if(c.bef.length!=c.aft.length)return console.warn("值の个数不一呦~");c.ok=!0,b[c.anmss+"Fn"](c,function(){d=!1,c.ok=!1}),c.ok&&(c.move_ok=!0,c.trigger("anmEnd")),c.trigger(c.anmss,c.bef)}}),d&&(b.run=!1,a&&a())}})}});return{Timer:a,Anm:c,Tween:b}}),F["package"](function(a){var b=Object.create(null),c=new _$.Event,d=function(){f.subtract(),f.isComplete&&c.trigger("resolve")},e=function(a){return[this.base,a,".js",this.time_stamp?"?"+random():""].join("")},f=Object.create({__dep:0,add:function(){++this.__dep},subtract:function(){--this.__dep},get isComplete(){return 0==this.__dep},load:function(a){return(a=a.trim())in b?d():void _$.getScript([e.call(j,a)],function(){d()})}}),h=function(a){var c;a=a.trim(),_$.assert(c=b[a],["不存在此模块("+a+")id","or","手动给依赖项匹配吗？","or","concat对?","呦~"].join("\r\n")),c=b[a];var d=Object.create({exports:{}}),e=Object.create(null),f=c.fn(h,e,d);return"undefined"!=typeof f?f:Object.keys(d.exports).length&&d.exports||Object.keys(e).length&&e||void 0},i=function(a,e){var g,h=_$.toArray(arguments);if(h.length>2&&(e=h[2],g=h[1]),b[a=a.trim()]={scp:document.currentScript,module_id:a,fn:e,fns:e+"",is_define:1},!j.concat){var i=0;g?g.forEach(function(a){f.add(),i=1,f.load(a)}):b[a].fns.replace(/\/{2,}([\s\S]*?)\r\n/g,"").replace(/require\s*\(\s*([\'|\"])(.+?)\1\s*\)/g,function(a,b,c){return f.add(),i=1,c?void f.load(c):d()}),!i&&f.isComplete&&c.trigger("resolve")}},j=Object.create({concat:0,base:"",time_stamp:0}),k=Object.create({config:function(a){return _$.extend(j,a),i.cmd=!0,g.define=i,g.require=h,this},get __depsAll(){return b},enter:function(a,d){return a=a.trim(),j.concat?(setTimeout(function(){if(f.isComplete){var b=h(a);d&&d(b)}}),this):(c.on("resolve",function(){var b=h(a);d&&d(b)}),a in b?h(a):_$.getScript([e.call(j,a)]),this)}});a.CMDJs=k}),Object.defineProperties(F,{cmdOk:{get:function(){return"undefined"!=typeof define&&!!define.cmd}},amdOk:{get:function(){return"undefined"!=typeof define&&!!define.amd}}}),g.Class=Class,F.cmdOk&&define("Dai",[],function(){return F}),"undefined"!=typeof module&&(module.exports=F)}("Dai",window);
/*!  最后修改于： 2016-05-06 */